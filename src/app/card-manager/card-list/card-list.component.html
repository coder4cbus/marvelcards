<div class="row">
  <div class="col-12">
    <div class="page-white card-list">
      <app-spinner message='Loading card list' *ngIf="loading"></app-spinner>
      <app-spinner message='Updating card list' *ngIf="updating" [overContent]="true"></app-spinner>
      <ng-container *ngIf="!loading">
        <div class="row">
          <div class="col-12 mb-4 card-list__nav-container">
            <ul class="nav nav-pills card-list__nav">
              <li class="nav-item"><span class="nav-label">Cards Per Page: </span> </li>
              <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': cardsPerPage === 10}" (click)="setCardsPerPage(10)">10</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': cardsPerPage === 20}" (click)="setCardsPerPage(20)">20</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': cardsPerPage === 40}" (click)="setCardsPerPage(40)">40</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': cardsPerPage === 50}" (click)="setCardsPerPage(50)">50</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" [ngClass]="{'active': cardsPerPage === cardTotal}"
                  (click)="setCardsPerPage(cardTotal)">All ({{cardTotal}})</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <table class="table table-sm table-striped">
              <thead class="thead-light">
                <tr>
                  <th>Card Name</th>
                  <th>Type</th>
                  <th>Alignment</th>
                  <th>Affiliations</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let card of cardList">
                  <td>
                    <a routerLink="../card/{{card._id}}">{{card.name}}</a>
                  </td>
                  <td>
                    {{card.cardtype}}
                  </td>
                  <td>{{card.alignment}}</td>
                  <td>{{card.affiliation}}</td>
                  <td>
                    <a class="btn btn-sm btn-outline-dark" routerLink="../edit-card/{{card._id}}">
                      <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24">
                        <path
                          d="M7.127 22.562l-7.127 1.438 1.438-7.128 5.689 5.69zm1.414-1.414l11.228-11.225-5.69-5.692-11.227 11.227 5.689 5.69zm9.768-21.148l-2.816 2.817 5.691 5.691 2.816-2.819-5.691-5.689z" />
                        </svg>
                    </a>
                    <a class="btn btn-sm btn-outline-danger ml-2" (click)="openConfirmDeleteModal(card._id)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24">
                        <path
                          d="M3 6v18h18v-18h-18zm5 14c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm5 0c0 .552-.448 1-1 1s-1-.448-1-1v-10c0-.552.448-1 1-1s1 .448 1 1v10zm4-18v2h-20v-2h5.711c.9 0 1.631-1.099 1.631-2h5.315c0 .901.73 2 1.631 2h5.712z" />
                        </svg>
                    </a>
                  </td>
                </tr>

              </tbody>
            </table>
          </div>
        </div>
        <div class="row">
          <div class="col-12 mt-3">
            <app-pagination [totalCount]="cardTotal" [amountPerPage]="cardsPerPage" (skipToPage)="moveToPage($event)"></app-pagination>
          </div>
        </div>
      </ng-container>

    </div>

  </div>

</div>
